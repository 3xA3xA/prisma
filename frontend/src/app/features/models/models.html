<div class="models-page">
  <div class="models-page__inner container">

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         HEADER
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="models-header" scrollReveal>
      <h1 class="models-header__title text-gradient-white">
        –ö–∞—Ç–∞–ª–æ–≥ –º–æ–¥–µ–ª–µ–π
      </h1>
      <p class="models-header__sub text-muted">
        {{ allModels.length }} –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
        –°—Ä–∞–≤–Ω–∏–≤–∞–π, –≤—ã–±–∏—Ä–∞–π, –∏—Å–ø–æ–ª—å–∑—É–π.
      </p>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         SEARCH + FILTERS
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="models-controls" scrollReveal [revealDelay]="80">

      <!-- –ü–æ–∏—Å–∫ -->
      <div class="models-search">
        <svg class="models-search__icon" width="16" height="16"
             viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"/>
          <line x1="21" y1="21" x2="16.65" y2="16.65"/>
        </svg>
        <input
          class="models-search__input glass-input"
          placeholder="–ü–æ–∏—Å–∫ –º–æ–¥–µ–ª–∏ –∏–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏..."
          [value]="searchQuery()"
          (input)="onSearch($any($event.target).value)"
        />
      </div>

      <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
      <div class="models-filters">
        @for (cat of categories; track cat) {
          <button
            class="models-filter"
            [class.models-filter--active]="activeCategory() === cat"
            (click)="setCategory(cat)"
          >
            {{ cat }}
          </button>
        }
      </div>

    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         GRID
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    @if (filtered().length > 0) {
      <div class="models-grid">
        @for (m of filtered(); track m.id; let i = $index) {
          <div class="model-card glass glass-shimmer"
               scrollReveal [revealDelay]="i * 50">

            <!-- –®–∞–ø–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
            <div class="model-card__header">
              <div class="model-card__icon"
                   [ngStyle]="getIconStyle(m.color)">
                {{ m.name[0] }}
              </div>
              <div class="model-card__title-block">
                <p class="model-card__name">{{ m.name }}</p>
                <p class="model-card__company">{{ m.company }}</p>
              </div>
            </div>

            <!-- –†–µ–π—Ç–∏–Ω–≥ -->
            <div class="model-card__rating">
              <div class="model-card__stars">
                @for (star of stars; track star) {
                  <svg width="12" height="12" viewBox="0 0 24 24"
                       [attr.fill]="isStarFilled(m.rating, star) ? '#a78bfa' : 'none'"
                       stroke="#a78bfa" stroke-width="2">
                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14
                                     18.18 21.02 12 17.77 5.82 21.02
                                     7 14.14 2 9.27 8.91 8.26 12 2"/>
                  </svg>
                }
              </div>
              <span class="model-card__rating-val">{{ m.rating }}/10</span>
            </div>

            <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
            <p class="model-card__desc">{{ m.desc }}</p>

            <!-- –¢–µ–≥–∏ -->
            <div class="model-card__tags">
              @for (tag of m.tags; track tag) {
                <span class="model-card__tag glass">{{ tag }}</span>
              }
            </div>

            <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
            <div class="model-card__stats">
              <div class="model-card__stat">
                <span class="model-card__stat-label">–ö–æ–Ω—Ç–µ–∫—Å—Ç</span>
                <span class="model-card__stat-val">{{ m.ctx }}</span>
              </div>
              <div class="model-card__stat">
                <span class="model-card__stat-label">–°–∫–æ—Ä–æ—Å—Ç—å</span>
                <span class="model-card__stat-val">{{ m.speed }}</span>
              </div>
              <div class="model-card__stat">
                <span class="model-card__stat-label">–¶–µ–Ω–∞</span>
                <span class="model-card__stat-val">{{ m.price }}</span>
              </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ -->
            <button
              class="model-card__btn btn-primary"
              [ngStyle]="getChatBtnStyle(m.color)"
              (click)="openChat(m)"
            >
              –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç ‚Üí
            </button>

          </div>
        }
      </div>
    }

    <!-- –ü—É—Å—Ç–æ -->
    @if (filtered().length === 0) {
      <div class="models-empty">
        <span class="models-empty__icon">üîç</span>
        <p class="models-empty__text">
          –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å.
        </p>
      </div>
    }

  </div>
</div>